@page "/"
@using System.Unicode;
@using System.Globalization;
<input type="search" value="" @oninput="InputText" />
<div class="text-right">Unicode @UnicodeInfo.UnicodeVersion</div>
@if (UnicodeList.Any())
{
    <div class="d-flex flex-column">
        @foreach (var UnicodeInfo in UnicodeList)
        {
            <div class="d-flex flex-row border">
                <div class="display-2 mr-2 text-right" style="width:8ex;font-family:monospace;">@string.Format("U+{0:X4}", UnicodeInfo.CodePoint)</div>
                <div class="d-flex flex-column flex-fill">
                    <div>
                        <span class="d-inline-block p-1 border mr-1" style="min-width:2ex;min-height:2ex">
                        @UnicodeInfo.GetDisplayText()</span>@(UnicodeInfo.Name ?? UnicodeInfo.OldName)</div>
                    <div>@UnicodeInfo.Category</div>

                </div>
            </div>
        }
    </div>
}
@code {
    private List<UnicodeCharInfo> UnicodeList = new List<UnicodeCharInfo>();
    private void InputText(ChangeEventArgs e)
    {
        UnicodeList.Clear();
        var Enumerator = StringInfo.GetTextElementEnumerator(e.Value.ToString());
        while (Enumerator.MoveNext())
        {
            var Current = Enumerator.Current.ToString();
            var CodePoint = Char.ConvertToUtf32(Current, 0);
            var CharInfo = UnicodeInfo.GetCharInfo(CodePoint);
            UnicodeList.Add(CharInfo);
        }
    }
}
